# Python Audio Dataset Creator 開発・運用レポート

## 1. 目的・仕様整理

- AI音声学習用データセット作成のためのPythonプログラムを開発。
- `cocoro.txt`のテキストを3～5秒単位で分割し、1台本ごとに録音・保存。
- 録音音声と台本テキストのペアをメタデータとして保存。

---

## 2. プログラムの主な仕様

- 台本を1つずつ表示し、進捗（例：3/20）も表示。
- `r`で3秒カウントダウン後に録音開始、`s`で録音終了・保存。
- `p`で録音音声の再生、`n`で次の台本へ進む。
- 録音ごとに `audio_files` に音声、`meta_files` に台本テキスト（meta_1.txtなど）を保存。
- すべての録音が終わると `metadata.txt` にペア一覧を保存。

---

## 3. 技術的な問題と解決

- **PyAudioやsoundfileのインストール**  
  - conda/pipでのインストール方法を案内。
- **sudo実行時のモジュール見えない問題**  
  - sudo不要なinput方式に変更を提案。
- **録音ディレクトリやファイルの作成エラー**  
  - os.makedirsで事前にディレクトリ作成を追加。
- **録音時のノイズ**  
  - `noisereduce`と`soundfile`を使った後処理によるノイズ除去方法を案内。
- **録音スレッドの安全な終了**  
  - スレッドのjoinを必ず行うように修正例を提示。
- **RedHat系（Rocky Linux）での依存パッケージインストール**  
  - `dnf`コマンドでのインストール方法を案内。

---

## 4. プログラムの改善・追加要望

- 録音開始時の3秒カウントダウンを復活。
- 録音・保存・再生・次へ進む操作をinputコマンドで実装。
- 録音ごとにmetaファイル（台本テキスト）を保存するように修正。
- 画面クリアや台本表示のタイミングを調整し、常に見やすく。
- ノイズ除去処理のサンプルスクリプトを提供。

---

## 5. その他

- README.mdやrequirements.txtの内容整理・追記。
- gitの警告（ユーザー名・メールアドレス未設定）への対応方法を案内。

---

**今後もご要望やトラブルがあれば、いつでもご相談ください！**